<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>DotGit-Privacy</title>
  <style>
    body { width: 320px; font-family: sans-serif; padding: 10px; }
    h2 { font-size: 16px; margin-top: 0; }
    .origin { font-weight: bold; color: #0066cc; word-break: break-all; }
    .controls { margin: 15px 0; border-top: 1px solid #eee; padding-top: 10px; }
    .row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    button { cursor: pointer; padding: 5px 10px; }
    .findings { margin-top: 15px; background: #f9f9f9; padding: 10px; border-radius: 4px; display: none; }
    .warning { color: #d00; font-size: 12px; margin-top: 5px; }
    .footer { margin-top: 20px; font-size: 12px; text-align: right; }
    a { color: #666; text-decoration: none; }
    a:hover { text-decoration: underline; }
    .toggle-switch { position: relative; display: inline-block; width: 40px; height: 20px; }
    .toggle-switch input { opacity: 0; width: 0; height: 0; }
    .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 20px; }
    .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 2px; bottom: 2px; background-color: white; transition: .4s; border-radius: 50%; }
    input:checked + .slider { background-color: #2196F3; }
    input:checked + .slider:before { transform: translateX(20px); }
  </style>
</head>
<body>
  <h2>DotGit-Privacy</h2>
  <div id="current-origin" class="origin">Loading...</div>

  <div class="controls">
    <div class="row">
      <span>Scan this site</span>
      <button id="btn-scan">Scan Now</button>
    </div>
    <div class="row">
      <span>Auto-scan this site</span>
      <label class="toggle-switch">
        <input type="checkbox" id="toggle-autoscan">
        <span class="slider"></span>
      </label>
    </div>
    <div id="perm-warning" class="warning" style="display:none;">
      Enabling auto-scan requires permission to access data on this site. This is only used for scanning.
    </div>
  </div>

  <div id="findings-area" class="findings">
    <strong>Findings:</strong>
    <ul id="findings-list"></ul>
    <div id="download-section" style="display:none; margin-top:10px;">
      <button id="btn-download">Download .git</button>
      <div id="dl-warning" class="warning"></div>
    </div>
  </div>

  <div class="footer">
    <a href="#" id="open-options">Options</a>
  </div>

  <script src="popup.js"></script>
</body>
</html>
